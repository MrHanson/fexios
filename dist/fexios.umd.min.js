/**
 * @preserve
 * @mrhanson/fexios v0.0.0-development
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).fexios=t.fexios||{},t.fexios.umd=t.fexios.umd||{},t.fexios.umd.min=e())}(this,function(){"use strict";function o(t,e){return!t||(r=e)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)?e||"":(t=t,(e=e)?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t);var r}function b(t,e){e=e&&Object.entries(e).map(function(t){return t[0]+"="+t[1]}).join("&");return e?t+"?"+e:t}function s(e,r){void 0===e&&(e={}),void 0===r&&(r={});var o=Object.create(null);["baseURL","transformRequest","transformResponse","timeout","credentials","validateStatus"].forEach(function(t){void 0!==r[t]?o[t]=r[t]:void 0!==e[t]&&(o[t]=e[t])});return["url","method","headers","params","data"].forEach(function(t){void 0!==r[t]&&(o[t]=r[t])}),o}var e=(t.prototype.use=function(t,e){return this.task.push({resolved:t,rejected:e}),this.task.length-1},t.prototype.eject=function(t){this.task[t]&&(this.task[t]=null)},t);function t(){this.task=[]}function y(t){console.warn("%c Fexios warn %c "+t,"background:#f90;padding:1px;border-radius:3px;color:#fff","background:transparent")}function n(a,u){var t=a.url,e=a.method,c=void 0===e?"get":e,r=a.baseURL,e=a.headers,d=void 0===e?{}:e,f=a.params,h=a.data,e=a.timeout,p=void 0===e?5e3:e,e=a.timeoutErrorMessage,l=void 0===e?"request timeout!":e,e=a.credentials,m=void 0===e?"omit":e,v=r?o(r,t):t;return new Promise(function(s,i){var r,t,o,e,n;v?(f&&(v=b(v,f)),e=(n=u||(t=v,e=new AbortController,(n=e.signal).addEventListener("abort",function(){return y("request "+(t||"")+" has been canceled")}),{signal:n,abort:e.abort})).signal,r=n.abort,n={method:c,headers:d,body:null,credentials:m,signal:e},e=c.toLocaleLowerCase(),["post","put","patch"].includes(e)&&(n.body=h,d["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded")),e=window.fetch(v,n),n=new Promise(function(t,e){o=setTimeout(function(){o&&clearTimeout(o),r(),e(new Error(l))},p)}),Promise.race([e,n]).then(function(t){var e=t.body,r=t.headers,o=t.status,t=t.statusText,n={};r.forEach(function(t,e){return n[e]=t});e={data:e,status:o,statusText:t,headers:n,config:a},t=a.validateStatus;o&&t&&!t(o)?i(new Error("Request failded with status code "+e.status)):s(e)}).catch(function(t){i(t)})):i("parameter requestUrl is missing!")})}function i(e,t){return t&&(t=!Array.isArray(t)?[t]:t).forEach(function(t){e=t(e)}),e}function a(t){var e=t.transformRequest,r=t.transformResponse;return i(t,e),n(t).then(function(t){return i(t,r)})}window.fetch||y("Your browser doesn't fetch, maybe u need the polyfill(https://github.com/github/fetch)"),window.AbortController||y("Your browser doesn't AbortController");var r=(u.prototype.request=function(t){t=s(this.defaults,t);var e=[{resolved:a,rejected:void 0}];this.interceptors.request.task.forEach(function(t){t&&e.unshift(t)}),this.interceptors.response.task.forEach(function(t){t&&e.push(t)});for(var r=Promise.resolve(t);e.length;){var o,n=e.shift();n&&(o=n.resolved,n=n.rejected,r=r.then(o,n))}return r},u.prototype.getUri=function(t){var e=(t=s(this.defaults,t)).baseURL,r=t.url,t=t.params;return r?b(e?o(e,r):r,t):""},u.prototype.get=function(t,e){return this._requestMethodWithoutData("get",t,e)},u.prototype.delete=function(t,e){return this._requestMethodWithoutData("delete",t,e)},u.prototype.head=function(t,e){return this._requestMethodWithoutData("head",t,e)},u.prototype.options=function(t,e){return this._requestMethodWithoutData("options",t,e)},u.prototype.post=function(t,e,r){return this._requestMethodWithData("post",t,e,r)},u.prototype.put=function(t,e,r){return this._requestMethodWithData("post",t,e,r)},u.prototype.patch=function(t,e,r){return this._requestMethodWithData("post",t,e,r)},u.prototype._requestMethodWithoutData=function(t,e,r){return this.request(s(r,{method:t,url:e}))},u.prototype._requestMethodWithData=function(t,e,r,o){return this.request(s(o,{method:t,data:r,url:e}))},u);function u(t){this.defaults=t,this.interceptors={request:new e,response:new e}}var c={timeout:0,headers:{Accept:"application/json, text/plain, */*"},transformRequest:[],transformResponse:[],credentials:"same-origin",validateStatus:function(t){return 200<=t&&t<300}};function d(t){t=new r(t);return r.prototype.request.bind(t)}var f=d(c);return f.create=function(t){return d(s(c,t))},f.all=function(t){return Promise.all(t)},f});
